<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>Hello APP</title>
		<link rel="stylesheet" type="text/css" href="./css/api.css" />
	</head>
	<body></body>
	<script type="text/javascript" src="./script/api.js"></script>
	<script type="text/javascript">
		apiready = function() {
			//判断是否需要打开欢迎引导页
			open_win()
		};
		/**
		 * 打开下一个界面
		 */
		open_win = function() {
			var isfirst = $api.getStorage("isfirst");
			if (isfirst == 'true') {
				//已经打开过了，直接跳转到home页
			} else {
				//打开欢迎指导页
				start_welcome()
			}
		}
		/**
		 * 打开欢迎引导页
		 */
		start_welcome = function() {
			var UIScrollPromptView = api.require('UIScrollPromptView');
			UIScrollPromptView.open({
				rect : {
					x : 0,
					y : 0,
					w : api.winWidth,
					h : api.winHeight / 2
				},
				data : {
					paths : ['widget://res/img/apicloud.png', 'widget://res/img/apicloud-gray.png', 'widget://res/img/apicloud.png', 'widget://res/img/apicloud-gray.png'],
					captions : ['apicloud', 'apicloud', 'apicloud', 'apicloud'],
					prompts : ['widget://res/img/apicloud.png', 'widget://res/img/apicloud-gray.png', 'widget://res/img/apicloud.png', 'widget://res/img/apicloud-gray.png']
				},
				styles : {
					caption : {
						height : 35,
						color : '#E0FFFF',
						size : 13,
						bgColor : '#696969',
						position : 'bottom'
					},
					indicator : {
						align : 'center',
						color : '#FFFFFF',
						activeColor : '#DA70D6'
					},
					prompt : {
						button : {
							normal : 'widget://image/btn_normal.png',
							highlight : 'widget://image/btn_highlight.png',
							x : 0,
							y : 100,
							w : 60,
							h : 40
						},
						x : 0,
						y : 50,
						w : 160,
						h : 90,
						contentMode : 'scaleToFill',
						animation : true
					}
				},
				placeholderImg : 'widget://res/slide1.jpg',
				contentMode : 'scaleToFill',
				interval : 3,
				fixedOn : api.frameName,
				loop : true,
				fixed : false
			}, function(ret) {
				if (ret) {
					alert(JSON.stringify(ret));
				}
			});
		}
	</script>
</html>